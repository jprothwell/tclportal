<?xml version="1.0" encoding="UTF-8" ?>
<!DOCTYPE sqlMap PUBLIC "-//ibatis.apache.org//DTD SQL Map 2.0//EN" "http://ibatis.apache.org/dtd/sql-map-2.dtd" >
<sqlMap namespace="gameinfo" >
  <resultMap id="gameinfoResult" class="com.tcl.gamePortal.domain.Gameinfo" >
    <result column="id" property="id" jdbcType="INTEGER" />
    <result column="gameName" property="gamename" jdbcType="VARCHAR" />
    <result column="detailInfo" property="detailinfo" jdbcType="VARCHAR" />
    <result column="type" property="type" jdbcType="INTEGER" />
    <result column="addTime" property="addtime" jdbcType="TIMESTAMP" />
    <result column="spid" property="spid" jdbcType="INTEGER" />
    <result column="imageName" property="imagename" jdbcType="VARCHAR" />
    <result column="language" property="language" jdbcType="VARCHAR" />
    <result column="style" property="style" jdbcType="VARCHAR" />
    <result column="disable" property="disable" jdbcType="INTEGER" />
    <result column="brief" property="brief" jdbcType="VARCHAR" />
    <result column="icon" property="icon" jdbcType="VARCHAR" />
    <result column="level" property="level" jdbcType="INTEGER" />
  </resultMap>

   <select id="findGame" parameterClass="java.util.Map" resultMap="gameinfoResult">
	  select * from gameinfo where id in (select gameId from gameresouce where disable = 1 
	  <isNotEmpty prepend="and" property="provinceid">
				provinceId=#provinceid#
	   </isNotEmpty>
	   <isNotEmpty prepend="and" property="did">
				did=#did#
	   </isNotEmpty>
	  )
  </select>
  
  
 
</sqlMap>